# Настройка аутентификации для веб-интерфейса базы данных

## Текущая конфигурация

Веб-интерфейс базы данных доступен по адресу: https://cardbot-1-kosarevpg.amvera.io/

### Переменные окружения

В панели управления Amvera уже настроены следующие переменные окружения:

- `SQLITE_WEB_USERNAME`: `admin`
- `SQLITE_WEB_PASSWORD`: `root`

### Конфигурация Procfile

```procfile
worker: python main.py
web: sqlite_web /data/bot.db --host 0.0.0.0 --port 80 --username admin --password root --no-browser
```

## Проверка аутентификации

Для проверки работы аутентификации запустите:

```bash
python test_auth.py
```

Этот скрипт проверит:
1. Доступ без аутентификации (должен быть заблокирован)
2. Доступ с правильными учетными данными (должен быть предоставлен)
3. Доступ с неправильными учетными данными (должен быть заблокирован)

## Доступ к базе данных

### Учетные данные
- **Логин**: `admin`
- **Пароль**: `root`

### Как получить доступ

1. Откройте браузер и перейдите по адресу: https://cardbot-1-kosarevpg.amvera.io/
2. Введите логин: `admin`
3. Введите пароль: `root`
4. Нажмите "Войти"

## Безопасность

### Рекомендации по безопасности

1. **Измените пароль по умолчанию**:
   - В панели управления Amvera измените значение переменной `SQLITE_WEB_PASSWORD`
   - Используйте сложный пароль (минимум 12 символов, буквы, цифры, спецсимволы)

2. **Ограничьте доступ по IP** (если возможно):
   - Настройте firewall для ограничения доступа только с ваших IP адресов

3. **Регулярно обновляйте пароли**:
   - Меняйте пароли каждые 3-6 месяцев

4. **Мониторинг доступа**:
   - Регулярно проверяйте логи доступа
   - Настройте уведомления о подозрительной активности

### Изменение пароля

Для изменения пароля:

1. Войдите в панель управления Amvera
2. Перейдите в раздел "Environment Variables"
3. Найдите переменную `SQLITE_WEB_PASSWORD`
4. Измените значение на новый пароль
5. Перезапустите приложение

## Устранение неполадок

### Проблема: Не могу войти в систему

**Возможные причины:**
1. Неправильные учетные данные
2. Переменные окружения не загружены
3. Приложение не перезапущено после изменения переменных

**Решение:**
1. Проверьте правильность логина и пароля
2. Убедитесь, что переменные окружения установлены в панели Amvera
3. Перезапустите приложение в панели Amvera

### Проблема: Доступ открыт без аутентификации

**Возможные причины:**
1. Параметры аутентификации не переданы в sqlite_web
2. Неправильная конфигурация Procfile

**Решение:**
1. Проверьте, что в Procfile указаны параметры `--username` и `--password`
2. Перезапустите приложение

## Альтернативные решения

Если стандартная аутентификация sqlite_web не работает, можно использовать:

1. **Кастомное Flask приложение** (`secure_sqlite_web.py`)
2. **Nginx с аутентификацией**
3. **Cloudflare Access** для дополнительной защиты

## Контакты

При возникновении проблем с аутентификацией обратитесь к администратору системы. 